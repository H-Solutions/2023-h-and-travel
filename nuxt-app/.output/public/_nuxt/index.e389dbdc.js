import{_ as O}from"./nuxt-icon.vue.e878b533.js";import{_ as A}from"./nuxt-link.de11c4be.js";import{o,f as i,i as e,v as u,h as d,z as V,B as F,t as T,b as j,e as q,x as E,m as S,F as b,r as R,y as L,c as z,u as _,j as I,a as P,w as G,q as N,T as M,l as H,p as U}from"./entry.2b38b3d0.js";import{S as J}from"./swiper.min.a0334f84.js";import{_ as K}from"./index.4085f013.js";import{u as Q}from"./composables.6db79d3b.js";const W={class:"elements-room-card"},X=["src"],Y={class:"elements-room-card-info"},Z={__name:"roomCard",props:{data:{type:Object,default:{}}},setup(n){return(l,m)=>{var s,t;const c=O,p=A;return o(),i("div",W,[e("figure",null,[e("img",{src:(t=(s=n.data.fields.key_visual)==null?void 0:s.slider[0])==null?void 0:t.url,alt:""},null,8,X)]),e("div",Y,[e("h3",null,u(n.data.title),1),d(p,{to:"/room/"+n.data.slug},{default:V(()=>[F(" 查看房型 "),d(c,{name:"arrow_right"})]),_:1},8,["to"])])])}}};const D={class:"elements-room-list"},ee={class:"elements-room-list__title"},te={key:0,class:"-en"},se={key:1},oe={class:"elements-room-list__item"},ne={class:"elements-room-list__swiper-wrapper swiper-wrapper"},ae={class:"elements-room-list__swiper-navigation"},ie={class:"elements-room-list__swiper-navigation-text"},re=["textContent"],le=e("span",null,"/",-1),_e=["textContent"],ce={__name:"roomList",props:{data:{type:Object,default:{}}},setup(n){const l=T(),m=T(),c=T(0),p=(s,t)=>{if(s.value)return new J(s.value,{slidesPerView:"auto",spaceBetween:20,centeredSlides:s.value.querySelectorAll(".swiper-slide").length<2,on:{slideChangeTransitionEnd:function(){t.value=this.realIndex}}})};return j(()=>{q(()=>{l.value=p(m,c)})}),(s,t)=>{var y,f,x,B,$,C,k;const v=Z,h=O,g=E("inview"),w=E("fade");return o(),i("div",D,[e("div",ee,[(y=n.data)!=null&&y.title.deco_title?(o(),i("span",te,u((f=n.data)==null?void 0:f.title.deco_title),1)):S("",!0),(x=n.data)!=null&&x.title.title?(o(),i("h3",se,u((B=n.data)==null?void 0:B.title.title),1)):S("",!0)]),e("div",oe,[(o(!0),i(b,null,R(($=n.data)==null?void 0:$.rooms,(a,r)=>L((o(),z(v,{key:r,data:a},null,8,["data"])),[[g],[w]])),128))]),e("div",{class:"elements-room-list__swiper",ref_key:"swiperRef",ref:m},[e("div",ne,[(o(!0),i(b,null,R((C=n.data)==null?void 0:C.rooms,(a,r)=>(o(),i("div",{class:"elements-room-list__swiper-slide swiper-slide",key:r},[L(d(v,{data:a},null,8,["data"]),[[g],[w]])]))),128))]),e("div",ae,[e("div",{class:"elements-room-list__swiper-navigation-prev",onClick:t[0]||(t[0]=a=>_(l).slidePrev())},[d(h,{name:"arrow_right"})]),e("div",ie,[e("span",{textContent:u(_(c)+1)},null,8,re),le,e("span",{textContent:u((k=n.data)==null?void 0:k.rooms.length)},null,8,_e)]),e("div",{class:"elements-room-list__swiper-navigation-next",onClick:t[1]||(t[1]=a=>_(l).slideNext())},[d(h,{name:"arrow_right"})])])],512)])}}};const de={class:"page-rooms"},me={class:"container"},ue={class:"page-rooms__wrap"},pe=e("div",{class:"page-rooms__wrap-title"},[e("h1",null,"房型一覽"),e("span",null,"ROOMS")],-1),ve={class:"page-rooms__wrap-cate"},he=["onClick"],ge={class:"page-rooms__wrap__room"},we={class:"container"},be={__name:"index",props:{template:{type:Object,default:{}}},async setup(n){var v,h,g,w,y,f,x;let l,m;const c=I(),p=P();p.value=!0;const s=T("all"),{data:t}=([l,m]=G(()=>H("get_page_cate",()=>$fetch(U().apiUrl+"/get_rooms_by_cate",{method:"GET"}))),l=await l,m(),l);return j(()=>{q(()=>{c.query.roomType&&(s.value=c.query.roomType)})}),Q({title:"房型一覽",meta:[{property:"og:locale",content:"zh"},{name:"description",content:(h=(v=t==null?void 0:t.value)==null?void 0:v.data)==null?void 0:h.meta_description},{hid:"og:title",property:"og:title",content:"房型一覽"},{hid:"og:description",property:"og:description",content:(w=(g=t==null?void 0:t.value)==null?void 0:g.data)==null?void 0:w.meta_description},{hid:"og:image",property:"og:image",content:(x=(f=(y=t==null?void 0:t.value)==null?void 0:y.data)==null?void 0:f.og_image)==null?void 0:x.url},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"}]}),(B,$)=>{const C=ce,k=K;return o(),i("div",de,[e("div",me,[e("div",ue,[pe,e("div",ve,[e("div",{class:N(["btn",{"-active":_(s)==="all"}]),onClick:$[0]||($[0]=a=>s.value="all")}," 所有房型 ",2),(o(!0),i(b,null,R(_(t),(a,r)=>(o(),i("div",{key:r,class:N(["btn",{"-active":_(s)===r}]),onClick:ye=>s.value=r},u(a==null?void 0:a.title.title),11,he))),128))])])]),e("div",ge,[e("div",we,[d(M,{name:"list"},{default:V(()=>[(o(!0),i(b,null,R(_(t),(a,r)=>(o(),i("div",{key:r},[_(s)==="all"||_(s)===r?(o(),z(C,{key:0,data:a},null,8,["data"])):S("",!0)]))),128))]),_:1})])]),d(k)])}}};export{be as default};
